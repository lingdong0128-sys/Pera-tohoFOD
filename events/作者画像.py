import os
import pygame

# 定义事件函数
def event_show_ascii_girl(things):
    """
    输出字符画的事件
    trigger: ascii_girl
    """
    
    # 1. 定义字符画数据 (使用 r""" """ 原始字符串以保持格式)
    # 注意：为了防止编辑器缩进破坏格式，这里的字符串紧贴左侧
    art_data = r"""
                                                                                                         
                                                                                                         
                                                      .:                                                 
                                              ..:-    ..                                                 
                                       ... --:-::-.    .                                                 
         ....                . ..: .   :.:.::..                                                          
        ..                 : -.:-:::.   .                                                                
        :      . .:.::.    ::-.:.                                                                        
        :  ....:.-..-..    .:-            .:--====-::                                                    
        ...   .: -.:::.     ::         .-+************+-                                                 
             .:   .        :-.        -+**##***********#*=.                                              
             .                      :-:...::-=+*******#:=*#=                                             
                           ..:::--=##***+-:.....:=+***+..:***.     .:.                                   
                   .--=++*******************+=-:...:-+=.:::+**    .:..                                   
               -+*###########*******************+=-...:..:-:+#=  .:..:                                   
             .*%%%%%%%%%%%%%#####*******************+=:...:--+* .:::.:                                   
             #%%%%%%%%%%%%%%%%%%#++*******************-::::--+----=:.-------::                           
            :#%%%%%%%%%%%%%%%%*+-:::=+****************-..::-==+==-:..+%%%%%%%%%*=.                       
            .##%%%%%%%%%%%%%#=--::-::-:=+#************=.....:-==:::.:#%%%%%%%%%%#*-                      
             +#%%%%%%%%%%%%#:.-::-::-::::-=************-:-=+*#-:=:.:+%%%%%%%%%%##**                      
             .*#%%%%%%%%%%*..-::--:::::::::--=****************+:-+=*%%%%%%%%%%#***-                      
              :*#%%%%%%%#+-=*:::-:::-::::::-:---+**************-:-==+*#%%####***+.    .                  
               :*##%%%%%%%%%=-::-:::=::::::-::---:=+************-:==--:=+#****=:  .=+++++=:              
                .+*#%%%%%%%%:-:--::-=-:-:::----:--:::-=+********#*=#**+++#*=:    :+++=----++. .::.       
                  -*##%%%**+.-::::--=::-:::::-#+=----::---=++***#####*+=-.      :++++-----=+++=--==-.    
                    -*##%#+=+-:::---=-:::::-+##*#%#*=:::--::-:::----.           *++++=----=++.    .-+    
                      -+##%%+-:.::+*#**+- .-=+**+**-=::::-:::-::--.           :-##*++++==+++*.      +:   
                        .-+=-.+.-+++**#*+.----==++*-.:.::.-..::::-::            +++#******++-       +.   
                         .:::.--.+--==-=+==------=+:.:.:::=:::::::-::           :*#*+++*#++-       ==    
           ...            .:.-:.-:==---=::.-=====+--.:..:::::---:-=:.         .-+-:=++++*=.       -=     
         --:::--:         :.::-----+*=:  ....   . .-..-..:-:::=.--+          -+-.     ..         -=      
        -:      :-:       .:--:::::.:-:::-:.   .:-=--.:=-:.....:--+        :+=.                 =-       
        =.        .-:       -::-:::..:::::=.::--::+-===:....::::---.      =+-                 .=:        
        -.          .-:     .:=.:.:..::-.::=-===::==-::::::....:::::-    ==.                 .=.         
        ::            :-     .:::::::::::::=:-:-=+--:..::::-========-   -=.                 :=.          
        .-             .=:    ::::.........--:::=--:-======-------=:--.-=                  =-            
         -.              :.   -=-:..........==-=::::-=::::::::::::---.-+.  .:-==         .=.             
         .-                 .-:-+:..........:--:.::.-=:...:::..::-...:::==-:. =-        --               
          ::                -.::-::.........:--..:..--:.:::...:::...:-==-==::::       .=:                
           -.              -...:--:..........-=.....--:::....:::.:-==::.::---.=.     -=.                 
            -            :===------:.........:=.....=-:.....::::-=-:...::==-:.-:   .=-                   
             -           -:---=::---..........-....:=-:....::-==:...::--=-..:::-. -=.                    
             .-          -::::-.:---..........-:.::.:---:::---:...::-=+=-----::::--.                     
              .-.        .=--:::.----.........:-::.:-:....:==+======-------::::..::-                     
                -.       :--:.:--:--=.........-----:.........::-------:::......::.:-                     
                 :-     ---:.:=-.-=--:...:::::=:::::-............:::::.........:...-                     
                  .--. :-::..-+:..----:.:.:...-:...::::..............:---.........:=                     
                    .:.-=:..:==:.::---::.:.....=...::--:................::.........-                     
                      :-=-..:==:.:::----:.:.:..:-..::==:.......................:::.=                     
                       -=--.-=+:.:::::::::.: :+-=..::-=:..........................-.                     
                        .::-===:.:::::.:::----=:*=--=::...................:.....:-.                      
                          .:=*+:.:::::::...-.       -:.......:::::--------:...:-:                        
                             :-   ...:-----:         :-.:-:-:....::--:::....:-:                          
                                                      .::            .:::.:-:                            
                                                                         ..                              
"""

    # 2. 临时更改字体设置
    # 这幅图很宽，必须用小号字体（如 12px），并且建议使用等宽字体（Monospaced）
    # 假设你的 font 目录下有等宽字体（如 msgothic.ttc 或 consolas.ttf），如果没有，暂时用 luoli.ttf 也可以，但可能对不齐
    original_font_path = './font/luoli.ttf' 
    
    # 尝试设置小字体
    
    # 3. 逐行输出
    # split('\n') 将大字符串按行分割
    for line in art_data.split('\n'):

        
        # 即使是空行也要输出，以保持纵横比
        # 使用淡青色 (200, 255, 255) 输出，看起来像终端效果
        things.console.PRINT(line, colors=(200, 255, 255))
    
    # 4. 恢复原来的字体大小
    # 等待用户按键后再恢复，或者直接恢复（取决于你想不想让用户慢慢看）
    things.console.PRINT("按回车键恢复视界...", colors=(150, 150, 150))
    things.console.INPUT()
    
    things.console.set_font(original_font_path, 24)
    things.console.PRINT("视觉模块已重置。", colors=(100, 255, 100))

# 设置事件触发器ID
event_show_ascii_girl.event_trigger = "ascii_girl"